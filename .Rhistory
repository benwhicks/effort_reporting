for (tcode in teacher.codes) {
rmarkdown::render('teacher_effort_report_markdown.Rmd',
output_file = paste0("Class_Effort_Report_", tcode, "_", Sys.Date(), ".html" ),
output_dir = report.dir)
}
knitr::opts_chunk$set(echo = FALSE)
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source)
g1
g1 + facet_wrap(~ Subject)
View(effort.data)
View(effort.data[grepl("Music",effort.data$Subject),])
effort.data[grepl("Music", effort.data$Subject),]$Subject
effort.data[grepl("Music", effort.data$Subject),]$Subject <- "Music"
grep("Music", effort.data$Subject)
grepl("Music", effort.data$Subject)
gsub("Music", "Music", c("Music 1", "Music 22", "Other"))
?gsub
gsub("Music", "Music", c("Music 1", "Music 22", "Other"), replacement = T)
gsub("Music", "Music", c("Music 1", "Music 22", "Other"))
gsub("Music", "Musicc", c("Music 1", "Music 22", "Other"))
effort.data$Subject[grepl("Music",effort.data$Subject)]
effort.data[grepl("Music",effort.data$Subject),"Subject"]
effort.data[grepl("Music",effort.data$Subject),]
effort.data
effort.data$Subject
unquie(effort.data$Subject)
unique(effort.data$Subject)
subj <- unique(effort.data$Subject)
subj
View(subj)
effort.data[grep("Music", effort.data$Subject),]
effort.data$Subject[grepl("Music", effort.data$Subject)]
effort.data$Subject[grepl("Music", effort.data$Subject),]
effort.data[grepl("Music", effort.data$Subject),]
grepl("Music", effort.data$Subject)
sum(grepl("Music", effort.data$Subject))
effort.data <- read.csv("effort_report_data.csv")
effort.data[grepl("Music", effort.data$Subject),]
effort.data[grepl("Music", effort.data$Subject),]$Subject
effort.data$Subject[grepl("Music", effort.data$Subject)]
effort.data$Subject[grepl("Music", effort.data$Subject)] <- "Music"
effort.data$Subject[grepl("Music", effort.data$Subject)]
effort.data <- read.csv("effort_report_data.csv")
effort.data$Subject[grepl("Music", effort.data$Subject)]
effort.data[grepl("Music", effort.data$Subject), "Subject"]
effort.data[grepl("Music", effort.data$Subject), "Subject"] <- "Music"
library(dplyr)
replace
?replace
effort.data$Subject[grepl("Music", effort.data$Subject)]
effort.data$Subject[grepl("Music", effort.data$Subject),]
effort.data[grepl("Music", effort.data$Subject),]
effort.data <- read.csv("effort_report_data.csv")
effort.data[grepl("Music", effort.data$Subject),]
effort.data$Subject[grepl("Music", effort.data$Subject)]
replace(effort.data$Subject, grepl("Music", effort.data$Subject), "Music")
effort.data <- read.csv("effort_report_data.csv")
teacher.dat <- read.csv(teacher.dat.file)
student.dat <- read.csv(student.dat.file)
effort.data <- effortMergeData(student.dat, teacher.dat)
write.csv(effort.data, "effort_report_data.csv", row.names = FALSE)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source)
g1
g1 + facet_wrap(~ Subject)
knitr::opts_chunk$set(echo = FALSE)
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source)
g1
g1 + facet_wrap(~ Subject)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source)
g1 + ggtitle("Distribution of effort grades")
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_dotplot()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_pointrange()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_point()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_jitter()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_histogram()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, fill = Gender, linetype = Source)) + geom_histogram()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, fill = Gender, linetype = Source)) + geom_histogram(binwidth = 1)
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, fill = Gender, linetype = Source)) + geom_histogram(binwidth = 1, stat = "dodge")
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, fill = Gender, linetype = Source)) + geom_freqpoly()
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, fill = Gender, linetype = Source)) + geom_freqpoly(binwidth = 1)
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_freqpoly(binwidth = 1)
g3 #+ facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_freqpoly(binwidth = 1)
g3 + facet_grid(. ~ Source)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_freqpoly(binwidth = 1)
g3 + facet_grid(. ~ Gender)
g3 + facet_grid(Category ~ Gender)
g3_1 <- ggplot(effort.data, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender)
names(effort.data)
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender)
names(df)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE,
message = FALSE, comment = NA,
fig.align = "center")
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.total.wide <- df.total %>% spread(Source, Effort)
df <- merge(df, student.info)
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender)
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
?geom_histogram
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_histogram(binwidth = 1, position = "dodge")
g3 + facet_grid(. ~ Gender)
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_histogram(binwidth = 1, position = "dodge")
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3 + facet_grid(Subject ~ Source, scales = "free")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_histogram(binwidth = 1, position = "dodge")
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1, position = "dodge")
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density()
g3 + facet_grid(. ~ Gender)
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_freqpoly(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density()
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density(binwidth = 1)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
?geom_density
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density(bw = 1)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density(bw = 0.5)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density(bw = 0.4)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density(bw = 0.5)
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density(bw = 0.5)
g3 + facet_grid(. ~ Gender)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density(bw = 0.5) + theme_classic()
g3 + facet_grid(. ~ Gender)
knitr::opts_chunk$set(echo = FALSE, warning = FALSE,
message = FALSE, comment = NA,
fig.align = "center")
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(ggthemes)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
df <- merge(df, student.info)
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.total.wide <- df.total %>% spread(Source, Effort)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density(bw = 0.5) + ggthemes::theme_pander()
g3 + facet_grid(. ~ Gender)
g3 <- ggplot(df.total, aes(Effort, color = Gender, linetype = Source)) + geom_density(bw = 0.5) + ggthemes::theme_tufte()
g3 + facet_grid(. ~ Gender)
g3_1 <- ggplot(df, aes(Score, color = Gender, linetype = Source)) +
geom_density(bw = 0.5) + theme_tufte()
g3_1 + facet_grid(Category ~ Gender) + ggtitle("Gender, Source, Category comparison")
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender)) +
geom_jitter(width = 0.1, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
g2
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender)) +
geom_jitter(width = 0.1, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
g2
knitr::opts_chunk$set(echo = FALSE, warning = FALSE,
message = FALSE, comment = NA,
fig.align = "center")
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(ggthemes)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
df <- merge(df, student.info)
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.total.wide <- df.total %>% spread(Source, Effort)
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender)) +
geom_jitter(width = 0.1, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
g2
?ggplotly
names(df)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"), tooltip = Student.name)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"), tooltip = df$Student.name)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source, label = Student.name)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"))
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source, label = Student.name)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"), tooltip = label)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source, label = Student.name)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"), tooltip = Student.name)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source, label = Student.name)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"))
?guides
ggplotly(g1 + facet_wrap(~ Subject) + guides(color = "none")+ ggtitle("Distribution by Subject"))
ggplotly(g1 + facet_wrap(~ Subject) + guides("none")+ ggtitle("Distribution by Subject"))
?guides
?legend
?theme
ggplotly(g1 + facet_wrap(~ Subject) + guides(color = F)+ ggtitle("Distribution by Subject"))
ggplotly(g1 + facet_wrap(~ Subject) + theme(legend.position = "none") + ggtitle("Distribution by Subject"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.1, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
?geom_jitter
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.2, height = 0.2, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.4, height = 0.4, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.4, height = 0.8, alpha = 0.4, size = 4) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.5, height = 0.5, alpha = 0.4, size = 2) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.5, height = 0.5, alpha = 0.4, size = 2.5) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
g1 + xlab(c("D","E","B"))
g1 + scale_fill_manual(values = c("D", "E", "B"))
g1 + scale_fill_manual(labels = c("D", "E", "B"))
g1 + scale_x_manual(values = c("D","E","B"))
g1 + scale_x_discrete(labels = c("D","E","B"))
View(df.total)
View(df.total[df.total$Student.name == "Samuel PURNELL",])
df.total.wide.overall <- df.total.wide %>% group_by(Subject)
names(df.total.wide.overall)
df.total.wide.overall
df.total.wide.overall <- df.total.wide %>% group_by(Subject, mean)
?group_by
df.total.wide.overall <- df.total.wide %>% group_by(Subject, mean) %>% summarise(mean(Teacher))
names(df.total.wide)
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.total.wide <- df.total %>% spread(Source, Effort)
names(df.total.wide)
df.total.wide$Teacher
df.total$Effort
df.total$Effort
names(df.total)
df.overall <- df.total %>% group_by(Student.code, Subject, Source) %>% summarise(Effort = mean(Effort))
df.overall
knitr::opts_chunk$set(echo = FALSE, warning = FALSE,
message = FALSE, comment = NA,
fig.align = "center")
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(ggthemes)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
df <- merge(df, student.info)
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.overall <- df.total %>% group_by(Student.name, Subject, Source) %>% summarise(Effort = mean(Effort))
df.total.wide <- df.overall %>% spread(Source, Effort)
g1 <- ggplot(data = df, aes(x = Category, y = Score, color = Source, label = Student.name)) +
geom_jitter(width = 0.3, alpha = 0.5) +
scale_color_brewer(palette = "Set2")+
facet_wrap(~Source) + theme_tufte()
ggplotly(g1 + ggtitle("Distribution of effort grades"))
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.5, height = 0.5, alpha = 0.4, size = 2.5) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
df.overall <- df.total %>% group_by(Student.name, Subject, Source, Gender) %>% summarise(Effort = mean(Effort))
df.total.wide <- df.overall %>% spread(Source, Effort)
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.5, height = 0.5, alpha = 0.4, size = 2.5) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
df.total.wide[1:10,]
?summarise
df.overall
df.overall %>% summarise(ef = mean(Effort))
df.overall %>% group_by(c(Student.name, Source)) %>% summarise(ef = mean(Effort))
df.overall %>% group_by(Student.name) %>% summarise(ef = mean(Effort))
df.overall %>% group_by(Student.name, Source) %>% summarise(ef = mean(Effort))
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.overall <- df.total %>% group_by(Student.name, Subject, Source, Gender) %>% summarise(Effort = mean(Effort))
df.overall <- df.overall %>% group_by(Student.name, Source) %>% summarise(Effort = mean(Effort))
df.total.wide <- df.overall %>% spread(Source, Effort)
g2 <- ggplot(df.total.wide, aes(x = Teacher, y = Student, color = Gender, label = Student.name)) +
geom_jitter(width = 0.5, height = 0.5, alpha = 0.4, size = 2.5) +
coord_fixed(ratio = 1, xlim = c(3,15), ylim = c(3,15)) + theme_tufte()
ggplotly(g2 + ggtitle("Teacher vs Student effort score"))
datdir <- "/Users/benhicks/Documents/Data Analysis/Data-Oxley/Effort Reporting"
student.dat.file <- paste0(datdir,"/2016T4 Y12 student effort data.csv")
teacher.dat.file <- paste0(datdir,"/2016T4 Y12 teacher effort data.csv")
student.dat <- read.csv(student.dat.file)
teacher.dat <- read.csv(teacher.dat.file)
effort.data <- effortMergeData(student.dat, teacher.dat)
write.csv(effort.data, "effort_report_data.csv", row.names = FALSE)
effort.data <- read.csv("effort_report_data.csv")
student.info <- data.frame(Student.code = student.dat$Student.code, Email = student.dat$Email,
Student.name = paste(student.dat$First.name, student.dat$Surname))
student.info <- unique.data.frame(student.info)
df.comp <- df %>% spread(Source, Score)
df.comp
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference, color = Difference)) + geom_bar()
gg
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference, fill = Difference)) + geom_bar()
gg
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference, fill = Source)) + geom_bar()
gg
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference, fill = Gender)) + geom_bar()
gg
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference, fill = Gender)) + geom_bar() + theme_tufte()
gg + ggtitle()
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference, fill = Gender)) + geom_bar() + theme_tufte()
gg + ggtitle("Individual score comparison: Student - Teacher")
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference)) + geom_bar() + theme_tufte()
gg + ggtitle("Individual score comparison: Student - Teacher")
gg + geom_density() +facet_wrap(~ Subject) + ggtitle("Individual score camparison by Subject: Student - Teacher")
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference)) + geom_density() + theme_tufte()
gg + ggtitle("Individual score comparison: Student - Teacher")
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference)) + geom_density(bw = 0.5) + theme_tufte()
gg + ggtitle("Individual score comparison: Student - Teacher")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE,
message = FALSE, comment = NA,
fig.align = "center")
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(ggthemes)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
df <- merge(df, student.info)
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.overall <- df.total %>% group_by(Student.name, Subject, Source, Gender) %>% summarise(Effort = mean(Effort))
df.overall <- df.overall %>% group_by(Student.name, Source) %>% summarise(Effort = mean(Effort))
df.total.wide <- df.overall %>% spread(Source, Effort)
df.total.wide <- merge(df.total.wide, student.info)
gg <- ggplot(df.comp, aes(Difference)) + geom_density(bw = 0.5) + theme_tufte()
gg + ggtitle("Individual score comparison: Student - Teacher")
gg + facet_wrap(~ Student.name)
gg + facet_wrap(~ Student.name, scales = "free")
student.dat.file <- paste0(datdir,"/2016T4 Y12 student effort data.csv")
student.dat <- read.csv(student.dat.file)
grep("Amber", student.dat$First.name)
teacher.dat.file <- paste0(datdir,"/2016T4 Y12 teacher effort data.csv")
teacher.dat <- read.csv(teacher.dat.file)
teacher.dat <- read.csv(teacher.dat.file)
student.dat <- read.csv(student.dat.file)
effort.data <- effortMergeData(student.dat, teacher.dat)
write.csv(effort.data, "effort_report_data.csv", row.names = FALSE)
effort.data <- read.csv("effort_report_data.csv")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE,
message = FALSE, comment = NA,
fig.align = "center")
suppressWarnings(suppressPackageStartupMessages(library(ggplot2)))
suppressWarnings(suppressPackageStartupMessages(library(ggthemes)))
suppressWarnings(suppressPackageStartupMessages(library(plotly)))
suppressWarnings(suppressPackageStartupMessages(library(dplyr)))
suppressWarnings(suppressPackageStartupMessages(library(tidyr)))
df <- unique(read.csv("effort_report_data.csv"))
df$Category <- factor(df$Category, levels = c("Diligence", "Engagement", "Behaviour"))
student.info <- read.csv("student.names.csv")
df <- merge(df, student.info)
df.total <- df %>% spread(Category, Score)
df.total$Effort <- df.total$Diligence + df.total$Engagement + df.total$Behaviour
df.total <- subset(df.total, select = -c(Diligence, Engagement, Behaviour))
df.total <- merge(df.total, student.info)
df.overall <- df.total %>% group_by(Student.name, Subject, Source, Gender) %>% summarise(Effort = mean(Effort))
df.overall <- df.overall %>% group_by(Student.name, Source) %>% summarise(Effort = mean(Effort))
df.total.wide <- df.overall %>% spread(Source, Effort)
df.total.wide <- merge(df.total.wide, student.info)
df.comp <- df %>% spread(Source, Score)
df.comp$Difference <- df.comp$Student - df.comp$Teacher
gg <- ggplot(df.comp, aes(Difference)) + geom_density(bw = 0.5) + theme_tufte()
gg + ggtitle("Individual score comparison: Student - Teacher")
gg + facet_wrap(~ Student.name, scales = "free")
gg + facet_wrap(~ Student.name, scales = "free", xlim = c(-2,2))
gg + scale_x_continuous(limits = c(-2,2)) + facet_wrap(~ Student.name, scales = "free")
